<div class="edit-profile-container" *ngIf="!showInfoComponent">
  <header>
    <h3>
      <i class="fas fa-briefcase"></i>
      <span>Experiencias</span>
    </h3>
    <i class="fas fa-info-circle info-icon" title="Informaci칩n" (click)="openInfoModal()"></i>
  </header>

  <body>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit($event)">
      <!-- Experiencia -->
      <div class="form-group">
        <div class="display-flex-space-between">
          <label for="experience">Experiencia(s):</label>
          <app-cv-edit-button-row 
          [isEditing]="editableFields['experience']"
          [hasChanges]="formHasChanges"
          (onCancel)="onCancel()"
          (onEditSave)="toggleEdit('experience')"
          (onAdd)="addExperience()">
        </app-cv-edit-button-row>
        </div>

        <div class="line"></div>

        <div formArrayName="experience">
          <div class="experience-group" 
          *ngFor="let exp of experienceArray.controls; let i = index" 
          [formGroupName]="i"
          (mouseenter)="showDeleteButton(i)"
          (mouseleave)="hideDeleteButton(i)"
          (click)="showDeleteButton(i)">
          
       <!-- Rol o Cargo -->
       <div class="form-group">
         <label for="role">Rol:</label>
         <input class="form-control" type="text" id="role" formControlName="role" [readonly]="!editableFields['experience']"/>
       </div>
     
       <div class="form-row">
         <!-- Empresa -->
         <div class="form-group three-quarters-width">
           <label for="company">Empresa:</label>
           <input type="text" id="company" formControlName="company" [readonly]="!editableFields['experience']" class="form-control" />
         </div>
         <!-- A침o -->
         <div class="form-group quarter-width">
           <label for="year">A침o:</label>
           <input type="text" id="year" formControlName="year" [readonly]="!editableFields['experience']" class="form-control" />
         </div>
       </div>
     
       <!-- Detalles o Descripci칩n -->
       <label>Detalle(s):</label>
       <textarea formControlName="description" class="form-control" [readonly]="!editableFields['experience']"></textarea>
     
       <app-delete-button-b 
         *ngIf="activeDeleteButton === i"
         (deleteClick)="confirmDeleteExperience(i); $event.stopPropagation()"
         class="experience-delete-button">
       </app-delete-button-b>
     
       <div class="line"></div>
     </div>
        </div>
      </div>
    </form>
  </body>
</div>

<app-experience-info *ngIf="showInfoComponent" (back)="toggleInfoView()"></app-experience-info>